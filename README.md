# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –ª–µ–∫—Ü–∏–∏ ¬´Promises, async/await¬ª

[![Build status](https://ci.appveyor.com/api/projects/status/2vtijabxpv47d38b?svg=true)](https://ci.appveyor.com/project/dm-morozov/netology-48-web-workers-promises-async-await-timer)
![Netology](https://img.shields.io/badge/Netology-JavaScript-blue)
![Jest Coverage](https://img.shields.io/badge/–ü–æ–∫—Ä—ã—Ç–∏–µ-100%25-brightgreen)

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∫ –ª–µ–∫—Ü–∏–∏ [¬´Promises, Async/Await¬ª –∫—É—Ä—Å–∞ JavaScript –æ—Ç –ù–µ—Ç–æ–ª–æ–≥–∏–∏](./README_for_Netology.md). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç—Ä–∏ –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Promise, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å `async/await` –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ —Å –º–æ–∫–∞–º–∏. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —à–∞–±–ª–æ–Ω–µ Webpack, –∫–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç ESLint –±–µ–∑ –æ—à–∏–±–æ–∫, —Ç–µ—Å—Ç—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º.

**–¶–µ–ª–∏**:
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `GameSavingLoader` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π.
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `async/await`.
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Å –º–æ–∫–∞–º–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

## üõ† –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. `Promises`: –ö–ª–∞—Å—Å `GameSavingLoader` —Å Promise
- **–ó–∞–¥–∞—á–∞**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–≥—Ä–æ–≤–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Promise.
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
  - –ö–ª–∞—Å—Å `GameSavingLoader` —Å –º–µ—Ç–æ–¥–æ–º `load`, –∫–æ—Ç–æ—Ä—ã–π:
    - –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `read()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `ArrayBuffer`.
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `json()` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ —Å—Ç—Ä–æ–∫—É.
    - –ü–∞—Ä—Å–∏—Ç —Å—Ç—Ä–æ–∫—É –≤ –æ–±—ä–µ–∫—Ç `GameSaving` —Å –ø–æ–ª—è–º–∏ `id`, `created`, `userInfo`.
  - –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Promise`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
- **–§–∞–π–ª—ã**:
  - `src/js/GameSavingLoader.js`: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å Promise.
  - `src/js/reader.js`, `src/js/parser.js`: –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞.
- **–ü—Ä–∏–º–µ—Ä**:
  ```javascript
  GameSavingLoader.load().then((saving) => console.log(saving));
  ```

### 2. `Async/Await`: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å `async/await`
- **–ó–∞–¥–∞—á–∞**: –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `GameSavingLoader.load` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `async/await`.
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
  - –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `GameSavingLoader_async_await` —Å –º–µ—Ç–æ–¥–æ–º `load`, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º `async/await`.
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `try-catch`.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω async IIFE –≤ `app.js` –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞.
- **–§–∞–π–ª—ã**:
  - `src/js/GameSavingLoader_async_await.js`: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å `async/await`.
  - `src/js/app.js`: Async IIFE –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.
- **–ü—Ä–∏–º–µ—Ä**:
  ```javascript
  (async () => {
    try {
      const saving = await GameSavingLoader_async_await.load();
      console.log(saving);
    } catch (error) {
      console.error(error);
    }
  })();
  ```

### 3. `Testing Async Code` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ): –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–æ–∫–∞–º–∏
- **–ó–∞–¥–∞—á–∞**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Å –º–æ–∫–∞–º–∏ –¥–ª—è `read` –∏ `json`.
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
  - –ó–∞–º–æ–∫–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `read` –∏ `json` —Å –ø–æ–º–æ—â—å—é `jest.mock`.
  - –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
    - –£—Å–ø–µ—à–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –æ–±—ä–µ–∫—Ç–∞ `GameSaving`.
    - –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–±–æ–µ `read`.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `jest.useFakeTimers` –∏ `jest.advanceTimersByTime` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è `setTimeout`.
- **–§–∞–π–ª—ã**:
  - `src/js/__tests__/GameSavingLoader_async_await.test.js`: –¢–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏.
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 100% –ø–æ —Å—Ç—Ä–æ–∫–∞–º, –≤–µ—Ç–∫–∞–º, —Ñ—É–Ω–∫—Ü–∏—è–º.

## üìö –ß–µ–º—É –Ω–∞—É—á–∏–ª–∏—Å—å

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**:
  - –†–∞–±–æ—Ç–∞ —Å `Promise` –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `async/await` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å `try-catch` –∏ `.catch`.
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞**:
  - –ú–æ–∫–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π —Å `jest.mock`.
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞–º–∏ —Å `jest.useFakeTimers` –∏ `jest.advanceTimersByTime`.
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `resolve` –∏ `reject` —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webpack –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥—É–ª—è–º–∏.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ESLint (Airbnb) –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∫–æ–¥–∞.
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI (AppVeyor) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.
- **–ü—Ä–∞–∫—Ç–∏–∫–∞**:
  - –†–∞–±–æ—Ç–∞ —Å `ArrayBuffer` –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ–µ–∫—Ç.

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```bash
   git clone https://github.com/dm-morozov/Netology_47_ArrayBuffer.git
   cd Netology_47_ArrayBuffer
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   npm install
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥**:
   - –õ–∏–Ω—Ç–µ—Ä:
     ```bash
     npm run lint
     npm run lint:fix
     ```
   - –¢–µ—Å—Ç—ã:
     ```bash
     npm run test
     npm run test -- --coverage
     ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**:
   ```bash
   npm start
   ```
   –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12).

5. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∫–æ–Ω—Å–æ–ª–∏**:
   - –í—ã–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä–µ–∫—Ç–∞ `GameSaving`.
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–±–æ–µ —á—Ç–µ–Ω–∏—è.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **JavaScript (ES6+)**: `Promise`, `async/await`, `ArrayBuffer`.
- **Webpack**: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.
- **Jest**: Unit-—Ç–µ—Å—Ç—ã —Å 100% –ø–æ–∫—Ä—ã—Ç–∏–µ–º.
- **ESLint**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ (Airbnb).
- **Babel**: –¢—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
- **AppVeyor**: CI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã, –ø–∏—à–∏—Ç–µ:
- ![LinkedIn](./svg/linkedin-icon.svg) [LinkedIn](https://www.linkedin.com/in/dm-morozov/)
- ![Telegram](./svg/telegram.svg) [Telegram](https://t.me/dem2014)
- ![GitHub](./svg/github-icon.svg) [GitHub](https://github.com/dm-morozov/)